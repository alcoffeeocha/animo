<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />
    <style>
      .spinner {
        display: inline-block;
        position: relative;
        width: 80px;
        height: 80px;
      }
      .spinner div {
        box-sizing: border-box;
        display: block;
        position: absolute;
        width: 64px;
        height: 64px;
        margin: 8px;
        border: 8px solid #d97d0d;
        border-radius: 50%;
        animation: moveIt 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
        border-color: #d97d0d transparent transparent transparent;
      }
      .spinner div:nth-child(1) {
        animation-delay: -0.45s;
      }
      .spinner div:nth-child(2) {
        animation-delay: -0.3s;
      }
      .spinner div:nth-child(3) {
        animation-delay: -0.15s;
      }
      @keyframes moveIt {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
    <title>Animo | Resep</title>
  </head>

  <body>
    <div
      id="blank"
      style="
        position: fixed;
        z-index: 100000;
        width: 100vw;
        height: 100%;
        background-color: white;
        place-items: center;
        display: grid;
      "
    >
      <div class="spinner">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
    <div class="container-xxl position-relative p-0 d-flex">
      <div class="sidebar-container">
        <sidebar class="sidebar" id="sidebar"></sidebar>
      </div>
      <main class="main">
        <header class="header" id="header"></header>
        <section class="resep">
          <div class="row align-items-center">
            <div class="col-xl-4">
              <div
                id="add-recipe-btn"
                data-modal="add-recipe"
                class="add-item add-item__resep"
              >
                <button class="button-primary button--rounded-1">&plus;</button>
                <p>Tambah Resep</p>
              </div>
            </div>
            <div class="col-md-6 col-xl-4">
              <div class="filter filter__resep" id="dropdown-produk">
                <p class="filter__label mb-3">Nama Produk</p>
                <button class="filter__toggler" aria-expanded="false">
                  <h4>Cookies Keju</h4>
                  <span>&gt;</span>
                </button>
                <!-- data-filter-name nanti dipakai untuk mengecek apakah terdapat item di dalam dropdown ini -->
                <ul data-filter-name="produk" class="filter__group">
                  <!-- tag li jangan diubah -->
                  <li class="filter__value">
                    <span data-search="produk" data-search-value="cookies keju">
                      <h4>Cookies Keju</h4>
                    </span>
                  </li>
                  <li class="filter__value">
                    <span data-search="produk" data-search-value="kopi susu">
                      <h4>Kopi Susu</h4>
                    </span>
                  </li>
                  <li class="filter__value">
                    <span data-search="produk" data-search-value="semprit">
                      <h4>Semprit</h4>
                    </span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="col-md-6 col-xl-4">
              <div class="filter filter__resep" id="dropdown-kategori-bahan">
                <p class="filter__label mb-3">Kategori Bahan</p>
                <button class="filter__toggler" aria-expanded="false">
                  <h4>Bahan Baku</h4>
                  <span>&gt</span>
                </button>
                <!-- data-filter-name nanti dipakai untuk mengecek apakah terdapat item di dalam dropdown ini -->
                <ul
                  data-filter-name="kategoriBahan"
                  class="filter__group w-100"
                >
                  <!-- tag li jangan diubah -->
                  <li class="filter__value">
                    <span
                      data-search="kategori_bahan"
                      data-search-value="bahan baku"
                    >
                      <h4>Bahan Baku</h4>
                    </span>
                  </li>
                  <li class="filter__value">
                    <span
                      data-search="kategori_bahan"
                      data-search-value="bahan pendukung"
                    >
                      <h4>Bahan Pendukung</h4>
                    </span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <ul class="first-feedback" id="first-feedback"></ul>
            </div>
          </div>
          <div class="row d-relative" id="detail-recipe">
            <h3 class="resep__hpp">
              Harga Pokok Penjualan: <span data-convert-to="rupiah">20000</span>
            </h3>
            <table class="table table__bahan table__resep">
              <thead>
                <tr>
                  <th>Sub-Bahan</th>
                  <th>Jumlah/Sub-Bahan</th>
                  <th>Harga/Sub-Bahan</th>
                  <th>Harga/Satuan</th>
                  <th>Ukuran Resep</th>
                  <th>Harga</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <!-- hapus "table__empty--false" jika ingin memunculkan teks di bawah -->
                  <td class="table__empty table__empty--false pt-5" colspan="7">
                    <!-- JS akan mengisi pesan terkait  table -->
                    Belum ada resep yang ditambahkan untuk produk tersebut
                  </td>
                </tr>
                <tr class="align-middle">
                  <td data-label="Sub-Bahan">Tepung Terigu</td>
                  <td data-label="Jumlah/Sub-Bahan">
                    <span data-convert-to="decimal">1000</span>
                  </td>
                  <td data-label="Harga/Sub-Bahan">
                    <span data-convert-to="rupiah">15000</span>
                  </td>
                  <td data-label="Harga/Satuan">
                    <span data-convert-to="rupiah">15</span>
                  </td>
                  <td data-label="Ukuran Resep">
                    <span data-convert-to="decimal">500</span>
                  </td>
                  <td data-label="Harga">
                    <span data-convert-to="rupiah">7500</span>
                  </td>
                </tr>
                <tr class="align-middle">
                  <td data-label="Sub-Bahan">Tepung Jagung</td>
                  <td data-label="Jumlah/Sub-Bahan">
                    <span data-convert-to="decimal">1000</span>
                  </td>
                  <td data-label="Harga/Sub-Bahan">
                    <span data-convert-to="rupiah">15000</span>
                  </td>
                  <td data-label="Harga/Satuan">
                    <span data-convert-to="rupiah">15</span>
                  </td>
                  <td data-label="Ukuran Resep">
                    <span data-convert-to="decimal">500</span>
                  </td>
                  <td data-label="Harga">
                    <span data-convert-to="rupiah">7500</span>
                  </td>
                </tr>
                <tr class="align-middle">
                  <td data-label="Sub-Bahan">Telur Ayam</td>
                  <td data-label="Jumlah/Sub-Bahan">
                    <span data-convert-to="decimal">1000</span>
                  </td>
                  <td data-label="Harga/Sub-Bahan">
                    <span data-convert-to="rupiah">15000</span>
                  </td>
                  <td data-label="Harga/Satuan">
                    <span data-convert-to="rupiah">15</span>
                  </td>
                  <td data-label="Ukuran Resep">
                    <span data-convert-to="decimal">500</span>
                  </td>
                  <td data-label="Harga">
                    <span data-convert-to="rupiah">7500</span>
                  </td>
                </tr>
              </tbody>
            </table>
            <hr />
            <div class="d-flex justify-content-center justify-content-md-end">
              <div class="col-11 col-sm-6">
                <div class="d-flex justify-content-between mb-3">
                  <h3 class="table__calc-label">Total Biaya</h3>
                  <h3 class="table__calc-value">
                    <span data-convert-to="rupiah">22500</span>
                  </h3>
                </div>
                <div class="d-flex justify-content-between mb-3">
                  <h3 class="table__calc-label">Total Porsi</h3>
                  <h3 class="table__calc-value">
                    <span data-convert-to="decimal">5</span>
                  </h3>
                </div>
                <div class="d-flex justify-content-between mb-3">
                  <h3 class="table__calc-label">Persatuan</h3>
                  <h3 class="table__calc-value">
                    <span data-convert-to="rupiah">4500</span>
                  </h3>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
      <dialog class="dialog dialog__add-recipe" id="add-recipe" open>
        <div class="dialog__backdrop">
          <div class="dialog__box">
            <div id="add-recipe-feedback" class="dialog__feedback">
              <ul class="dialog__feedback-msg"></ul>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="50"
                height="50"
                fill="currentColor"
                data-id="backToForm"
                viewBox="0 0 16 16"
              >
                <path
                  d="M16 14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12zm-4.5-6.5H5.707l2.147-2.146a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L5.707 8.5H11.5a.5.5 0 0 0 0-1z"
                />
              </svg>
            </div>
            <!-- THE FORM !!! -->
            <form
              action="/resep/input"
              method="POST"
              name="add-recipe"
              id="add-recipe-form"
            >
              <header class="row">
                <div class="col-12 col-md-4">
                  <h1 class="header__title">Resep</h1>
                  <h4 data-id="header-date" class="header__date">
                    <span class="header__day"></span>
                  </h4>
                </div>
                <div class="col-12 col-md-8">
                  <h1 class="dialog__product mt-3" id="product-name"></h1>
                </div>
              </header>
              <main class="dialog__main">
                <section class="dialog__page-1" data-form-page="1">
                  <h3 class="fo-semi fo-18">
                    Pilih produk yang ingin diberikan resep
                  </h3>
                  <div class="dropdown__box dropdown__resep">
                    <div class="dropdown__options" id="product-options">
                      <!-- ubah semua value, id, for+isi label nya -->
                      <div class="dropdown__option">
                        <input
                          type="radio"
                          id="prod1"
                          name="product"
                          value="keju123"
                          checked="true"
                        />
                        <label for="prod1">Cookies Keju</label>
                      </div>
                      <div class="dropdown__option">
                        <input
                          type="radio"
                          id="prod2"
                          name="product"
                          value="cokelat321"
                        />
                        <label for="prod2">Cookies Cokelat</label>
                      </div>
                      <div class="dropdown__option">
                        <input
                          type="radio"
                          id="prod3"
                          name="product"
                          value="susu464"
                        />
                        <label for="prod3">Kopi Susu</label>
                      </div>
                    </div>
                    <div class="dropdown__selected" id="product-selected"></div>
                  </div>
                </section>

                <section class="dialog__page-2" data-form-page="2">
                  <input type="hidden" name="subMaterials" />
                  <h3 class="fo-semi fo-18">
                    Pilih sub bahan untuk membuat produk tersebut
                  </h3>
                  <!-- ubah label, value, data-submaterial-id dengan id sub bahannya, data-unit dengan satuan sub bahan tersebut -->
                  <div class="checkbox">
                    <label class="checkbox__container"
                      >Tepung Terigu
                      <input
                        type="checkbox"
                        value="Tepung Terigu"
                        data-submaterial-id="terigu222"
                        data-unit="gram"
                      />
                      <span class="checkbox__mark"></span>
                    </label>
                    <label class="checkbox__container"
                      >Brown Sugar
                      <input
                        type="checkbox"
                        value="Brown Sugar"
                        data-submaterial-id="sugar222"
                        data-unit="cup"
                      />
                      <span class="checkbox__mark"></span>
                    </label>
                    <label class="checkbox__container"
                      >Garam Kosher
                      <input
                        type="checkbox"
                        value="Garam Kosher"
                        data-submaterial-id="kosher321"
                        data-unit="sendok"
                      />
                      <span class="checkbox__mark"></span>
                    </label>

                    <label class="checkbox__container"
                      >Ekstrak Vanili
                      <input
                        type="checkbox"
                        value="Ekstrak Vanili"
                        data-submaterial-id="vanili001"
                        data-unit="sendok"
                      />
                      <span class="checkbox__mark"></span>
                    </label>
                    <label class="checkbox__container"
                      >Gula Manis
                      <input
                        type="checkbox"
                        value="Gula Manis"
                        data-submaterial-id="manis444"
                        data-unit="sendok"
                      />
                      <span class="checkbox__mark"></span>
                    </label>
                  </div>
                </section>

                <section class="dialog__page-3" data-form-page="3">
                  <div id="results"></div>
                  <h3 class="fo-semi fo-18 text-center">Data Sub Bahan</h3>
                  <!-- js will handle this table, no need injection -->
                  <table class="table table__sub-bahan" id="table-sub-bahan">
                    <thead></thead>
                    <tbody>
                      <tr data-row="quantity"></tr>
                      <tr data-row="price"></tr>
                      <tr data-row="recipe"></tr>
                    </tbody>
                  </table>
                </section>

                <section class="dialog__page-4" data-form-page="4">
                  <h3 class="fo-semi fo-18" for="porsi">Jumlah porsi</h3>
                  <p class="fo-light fo-12">
                    Berapa jumlah porsi untuk produk (dalam 1 resep) yang dapat
                    dihasilkan, contoh: 8
                  </p>
                  <input
                    type="number"
                    name="porsi"
                    id="porsi"
                    min="1"
                    value="0"
                  />
                </section>
              </main>

              <footer class="dialog__footer">
                <div class="dialog__cta">
                  <!-- js will dynamically change these button type and text -->
                  <button
                    id="tombol-prev"
                    type="button"
                    class="button-secondary"
                  >
                    Batal
                  </button>
                  <button id="tombol-next" class="button-primary" type="button">
                    Lanjut
                  </button>
                </div>
              </footer>
            </form>
          </div>
        </div>
      </dialog>
    </div>
    <script
      async
      src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.17/dist/sweetalert2.min.js"
    ></script>
    <script>
      window.onload = () => {
        document.getElementById("blank").style.display = "none";
      };
    </script>
  </body>
</html>
